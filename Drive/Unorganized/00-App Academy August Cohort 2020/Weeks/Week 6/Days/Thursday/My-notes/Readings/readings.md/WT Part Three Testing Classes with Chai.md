**

### Week 6 Aug 2020 Online {.sc-cSHVUG .VLQzD}

##### Tasks {.sc-chPdSV .iuEout}

-   ### Weekly Assessment {.sc-dnqmqq .kcAQXs}

    01:40:004/4**

    -   Quiz
        -   [*✔︎*Multiple Choice
            Quiz00:20:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/multiple-choice-quiz)
    -   Coding Problems
        -   [*✔︎*Define a
            Class00:10:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/define-a-class)
        -   [*✔︎*Create a Parent
            Class00:10:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/create-a-parent-class)
    -   Projects
        -   [*✔︎*Test-Driven
            Problems01:00:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/test-driven-problems)
-   ### Monday - HTTP {.sc-dnqmqq .kcAQXs}

    02:49:142/7**

    -   Learning Objectives
        -   [*●*HTTP Learning
            Objectives00:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/http-learning-objectives)
    -   Lecture
        -   [*✔︎*HTTP
            Basics00:07:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/http-basics)
        -   [*✔︎*HTTP
            Requests00:08:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/http-requests)
        -   [*●*HTTP
            Responses00:10:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/http-responses)
        -   [*►*Request-Response in the
            Browser00:10:12](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/request-response-in-the-browser)
        -   [*►*Your First
            Server00:09:02](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/your-first-server)
    -   Practices
        -   [*⬆︎*Build Your Own HTTP
            Server02:00:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/build-your-own-http-server)
-   ### Homework for Tuesday {.sc-dnqmqq .kcAQXs}

    00:35:000/3**

    -   Learning Objectives
        -   [*●*Promises Learning Objectives Day
            100:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/promises-learning-objectives-day-1)
    -   Homework
        -   [*●*A Mostly Complete Guide to Promises
            I00:15:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/a-mostly-complete-guide-to-promises-i)
        -   [*●*A Mostly Complete Guide to Promises
            II00:15:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/a-mostly-complete-guide-to-promises-ii)
-   ### Tuesday - Promises {.sc-dnqmqq .kcAQXs}

    04:44:082/5**

    -   Learning Objectives
        -   [*●*Promises Learning Objectives Day 1
            (Recall)00:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/promises-learning-objectives-day-1--recall-)
    -   Lecture
        -   [*✔︎*Promises, Part
            100:15:02](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/promises--part-1)
        -   [*✔︎*Promises, Part
            200:10:12](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/promises--part-2)
        -   [*►*Fetch API Using
            node-fetch00:13:54](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/fetch-api-using-node-fetch)
    -   Practices
        -   [*⬆︎*Promise
            Project04:00:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/promise-project)
-   ### Homework for Wednesday {.sc-dnqmqq .kcAQXs}

    01:33:002/5**

    -   Learning Objectives
        -   [*●*Promises Learning Objectives Day
            200:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/promises-learning-objectives-day-2)
        -   [*●*HTML Learning
            Objectives00:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/html-learning-objectives)
    -   Homework
        -   [*✔︎*Modern Promises With async And
            await00:15:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/modern-promises-with-async-and-await)
        -   [*✔︎*Revisiting the Basics of
            HTML00:08:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/revisiting-the-basics-of-html)
        -   [*●*Brushing Up On Your
            HTML01:00:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/brushing-up-on-your-html)
-   ### Wednesday - async and await {.sc-dnqmqq .kcAQXs}

    05:10:000/5**

    -   Learning Objectives
        -   [*●*Promises Learning Objectives Day 2
            (Recall)00:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/promises-learning-objectives-day-2--recall-)
        -   [*●*HTML Learning Objectives
            (Recall)00:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/html-learning-objectives--recall-)
    -   Lecture
        -   [*►*Async and
            Await](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/async-and-await)
    -   Practices
        -   [*⬆︎*Exploring
            Promises01:00:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/exploring-promises)
        -   [*⬆︎*Trivia Game Three
            Ways04:00:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/trivia-game-three-ways)
-   ### Homework for Thursday {.sc-dnqmqq .jLQnpZ}

    01:22:000/8**

    -   Learning Objectives
        -   [*●*Testing
            Objectives00:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/testing-objectives)
    -   Homework
        -   [*●*All about
            Testing00:15:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/all-about-testing)
        -   [*●*Test-Driven
            Development00:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/test-driven-development)
        -   [*●*JS Error
            Types00:07:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/js-error-types)
        -   [*●*Writing Tests (WT) Part One: Mocha and
            Assert00:15:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/writing-tests--wt--part-one--mocha-and-assert)
        -   [*●*WT Part Two: Testing
            Errors00:10:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/wt-part-two--testing-errors)
        -   [*●*WT Part Three: Testing Classes with
            Chai00:10:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/wt-part-three--testing-classes-with-chai)
        -   [*●*WT Part Four: Mocha Hooks and Chai
            Spies00:15:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/wt-part-four--mocha-hooks-and-chai-spies)
-   ### Thursday - Unit Testing - Day 1 {.sc-dnqmqq .kcAQXs}

    04:31:310/11**

    -   Learning Objectives
        -   [*●*Testing Objectives
            (Recall)00:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/testing-objectives--recall-)
    -   Lecture
        -   [*►*Automated Testing
            Introduction00:07:53](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/automated-testing-introduction)
        -   [*►*Reading Tests Code
            Demo00:19:37](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/reading-tests-code-demo)
        -   [*►*Writing Tests Code Demo Part
            One00:22:49](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/writing-tests-code-demo-part-one)
        -   [*►*Writing Tests Code Demo Part
            Two00:20:12](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/writing-tests-code-demo-part-two)
    -   Practices
        -   [*●*Flash Cards: JS
            Errors00:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/flash-cards--js-errors)
        -   [*●*Flash Cards:
            TDD00:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/flash-cards--tdd)
        -   [*★*TDD Workflow
            Quiz00:03:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/tdd-workflow-quiz)
        -   [*★*Writing Tests
            Quiz00:03:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/writing-tests-quiz)
        -   [*⬆︎*Reading Tests: Hanoi
            Game01:00:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/reading-tests--hanoi-game)
        -   [*⬆︎*Writing Tests: TDD
            Project02:00:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/writing-tests--tdd-project)
-   ### Homework for Friday {.sc-dnqmqq .kcAQXs}

    00:05:000/1**

    -   Homework
        -   [*★*Browser Basics
            Quiz00:05:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/browser-basics-quiz)
-   ### Friday - Unit Testing - Day 2 {.sc-dnqmqq .kcAQXs}

    05:10:000/9**

    -   Practices
        -   [*●*Project
            Overview00:10:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/project-overview)
        -   [*►*Building the Full-Stack To-Do
            List00:30:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/building-the-full-stack-to-do-list)
        -   [*●*Create and Serve the Category
            Screen00:30:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/create-and-serve-the-category-screen)
        -   [*●*Save Submitted Category
            Information00:30:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/save-submitted-category-information)
        -   [*●*Entering To-Do
            Items00:45:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/entering-to-do-items)
        -   [*●*Save and Show Submitted To-Do
            Items00:30:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/save-and-show-submitted-to-do-items)
        -   [*●*Completing a To-Do
            Item00:30:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/completing-a-to-do-item)
        -   [*●*Search For To-Do
            Items00:45:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/search-for-to-do-items)
        -   [*●*Refactor To Use a Template
            Engine01:00:00](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/refactor-to-use-a-template-engine)
-   ### Homework for Next Monday {.sc-dnqmqq .kcAQXs}

    0/1**

    -   Homework
        -   [*●*Study for your
            assessment!](https://open.appacademy.io/learn/js-py---aug-2020-online/week-6-aug-2020-online/study-for-your-assessment-)

-   **

WT Part Three: Testing Classes with Chai {.sc-kPVwWT .bRXTmH}
----------------------------------------

-   Profile
-   [**](https://launchpass.com/p/app-academy-mentor)
-   **
-   [**](https://forum.appacademy.io/)

WT Part Three: Testing Classes with Chai {.sc-kIPQKe .erIitW}
========================================

-   ⏱ 10 minutes

-   Catalog**
-   Js Py Aug 2020 Online**
-   Week 6 Aug 2020 Online**
-   Wt Part Three Testing Classes With Chai

Writing Tests
=============

In this reading we'll be covering:

-   how to test classes using `Mocha`{.sc-cMljjf .hbDMZX} and
    `Chai`{.sc-cMljjf .hbDMZX}

Part Three: Testing classes using Mocha and Chai
------------------------------------------------

Let's expand our knowledge of testing syntax by testing some classes! In
order to fully test a class, we'll be looking to test that class's
instance and static methods. Create a new file in the
`problems`{.sc-cMljjf .hbDMZX} folder - `dog.js`{.sc-cMljjf .hbDMZX}.
We'll use the following code for the rest of our tests so make sure to
copy it over:

``` {style="color: rgb(248, 248, 242); background: rgb(45, 45, 45); font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; overflow: auto; font-size: 16px;"}
// testing-demo/problems/dog.js

class Dog {
  constructor(name) {
    this.name = name;
  }

  bark() {
    return `${this.name} is barking`;
  }

  chainChaseTail(num) {
    if (typeof num !== "number") {
      throw new TypeError("please only use numbers for this function");
    }
    for (let i = 0; i < num; i++) {
      this.chaseTail();
    }
  }

  chaseTail() {
    console.log(`${this.name} is chasing their tail`);
  }

  static cleanDogs(dogs) {
    let cleanDogs = [];
    dogs.forEach(dog => {
      let dogStr = `I cleaned ${dog.name}'s paws.`;
      cleanDogs.push(dogStr);
    });
    return cleanDogs;
  }
}

// ensure to export our class!
module.exports = Dog;
```

To test this class we'll create a new file in our `test`{.sc-cMljjf
.hbDMZX} directory - `dog-spec.js`{.sc-cMljjf .hbDMZX} so your file
structure should now look like this:

``` {style="color: rgb(248, 248, 242); background: rgb(45, 45, 45); font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; overflow: auto; font-size: 16px;"}
testing-demo
  └──
  problems
    └── reverse-string.js
    └── dog.js
  test
    └── reverse-string-spec.js
    └── dog-spec.js
```

Let's now set up our `dog-spec.js`{.sc-cMljjf .hbDMZX} file. For this
example we'll get experience using another assertion library named
[`Chai`{.sc-cMljjf .hbDMZX}](https://www.chaijs.com/). As you'll soon
see, the Chai library comes with a lot more built-in more functionality
than Node's `Assert`{.sc-cMljjf .hbDMZX} module.

Now since `Chai`{.sc-cMljjf .hbDMZX} is another external library we'll
need to import it in order to use it. We need to run a few commands to
first create a `package.json`{.sc-cMljjf .hbDMZX} and then we can import
the `chai`{.sc-cMljjf .hbDMZX} library. Start off by running
`npm init --y`{.sc-cMljjf .hbDMZX} in the top level directory
(`testing-demo`{.sc-cMljjf .hbDMZX}) to create a
`package.json`{.sc-cMljjf .hbDMZX} file. After that is finished you can
import the `Chai`{.sc-cMljjf .hbDMZX} library by running
`npm install chai`{.sc-cMljjf .hbDMZX}.

Here is what that will look like in your terminal:

``` {style="color: rgb(248, 248, 242); background: rgb(45, 45, 45); font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; overflow: auto; font-size: 16px;"}
~ testing-demo $ npm init --y
Wrote to /testing-demo/problems/package.json:

{
  "name": "testing-demo",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "directories": {
    "test": "test"
  },
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC"
}

~ testing-demo $ npm install chai
```

Now that we've installed `Chai`{.sc-cMljjf .hbDMZX} we can set up our
test file. Create a new file in the `test`{.sc-cMljjf .hbDMZX} folder
named `dog-spec.js`{.sc-cMljjf .hbDMZX} We'll require the
`expect`{.sc-cMljjf .hbDMZX} module from Chai for our assertions, import
our `Dog`{.sc-cMljjf .hbDMZX} class, and set up our outer
`describe`{.sc-cMljjf .hbDMZX} function for testing the `Dog`{.sc-cMljjf
.hbDMZX} class:

``` {style="color: rgb(248, 248, 242); background: rgb(45, 45, 45); font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; overflow: auto; font-size: 16px;"}
// testing-demo/test/dog-spec.js

// set up chai
const chai = require("chai");
const expect = chai.expect;

// don't forget to import the class you are testing!
const Dog = require("../problems/dog.js");

// our outer describe for the whole Dog class
describe("Dog", function() {});
```

So the first thing we'll generally want to test on classes is their
`constructor`{.sc-cMljjf .hbDMZX} functions - we need to make sure new
instances have the correct properties and that those properties are
being set properly before we can test anything else. For the
`Dog`{.sc-cMljjf .hbDMZX} class it looks like a name is accepted on
instantiation, so let's test that!

We'll start with a nested describe function within our outer
`Dog`{.sc-cMljjf .hbDMZX} describe function:

``` {style="color: rgb(248, 248, 242); background: rgb(45, 45, 45); font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; overflow: auto; font-size: 16px;"}
describe("Dog", function() {
  describe("Dog Constructor Function", function() {
    it('should have a "name" property', function() {});
  });
});
```

Now we are using a different assertion library so we'll be working with
some different syntax. Open up the [`Chai Expect`{.sc-cMljjf
.hbDMZX}](https://www.chaijs.com/api/bdd/) documentation for reference,
we won't be going into tons of detail into every function we use with
Chai because Chai allows for a lot of smaller chainable functions and we
know you have lives outide this reading.

The nice thing about Chai is that the chainable functions available will
often read like English. Check out the right column of this handy [Chai
cheatsheet](https://devhints.io/chai) for a quick and easy reference on
chainable functions.

We'll start our first spec off by using the [`property`{.sc-cMljjf
.hbDMZX}](https://www.chaijs.com/api/bdd/#method_property) matcher to
ensure that a newly instantiated object has a specified property:

``` {style="color: rgb(248, 248, 242); background: rgb(45, 45, 45); font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; overflow: auto; font-size: 16px;"}
describe("Dog", function() {
  describe("Dog Constructor Function", function() {
    it('should have a "name" property', function() {
      const layla = new Dog("Layla");
      // all our of chai tests will begin with the expect function
      // .to and .have are Chai chainable functions
      // .property is the matcher we are using
      expect(layla).to.have.property("name");
    });
  });
});
```

Now to test our new spec we can run just the Dog class specs by running
`mocha test/dog-spec.js`{.sc-cMljjf .hbDMZX} from our top level
directory. Running that command we'll see:

``` {style="color: rgb(248, 248, 242); background: rgb(45, 45, 45); font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; overflow: auto; font-size: 16px;"}
Dog
  Dog Constructor Function
    ✓ should have a "name" property


1 passing (8ms)
```

Nice! We tested that the name property exists on a new dog instance.
Next, we can make sure our name is set properly with another test:

``` {style="color: rgb(248, 248, 242); background: rgb(45, 45, 45); font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; padding: 1em; overflow: auto; font-size: 16px;"}
describe("Dog Constructor Function", function() {
  it('should have a "name" property', function() {
    const layla = new Dog("Layla");
    expect(layla).to.have.property("name");
  });

  it('should set the "name" property when a new dog is created', function() {
    const layla = new Dog("Layla");
    // we are using the eql function to compare the value of layla.name
    // with the provided string
    expect(layla.name).to.eql("Layla");
  });
});
```

Running the above using `mocha`{.sc-cMljjf .hbDMZX} we'll see both of
our specs passing! Now take extra note of the fact that we are defining
the same variable twice using `const`{.sc-cMljjf .hbDMZX} within the
above `it`{.sc-cMljjf .hbDMZX} callbacks. This is important to note
because it underlines the fact that each of the unit tests you write
will have their own scope - meaning that they are each independent of
the specs that came before or after them.

Head to the next reading to refactor some of the code we just wrote
using `Mocha`{.sc-cMljjf .hbDMZX} hooks!

Did you find this lesson helpful?

No

Yes

✔︎ Mark As Complete

Finished with this task? Click **Mark as Complete** to continue to the
next page!


