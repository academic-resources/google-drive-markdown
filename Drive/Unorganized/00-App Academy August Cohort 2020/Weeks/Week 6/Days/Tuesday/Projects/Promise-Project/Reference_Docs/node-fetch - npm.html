<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>node-fetch - npm</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<p>This website stores cookies on your computer. These cookies are used to collect information about how you interact with our website and allow us to remember you. We use this information in order to improve and customize your browsing experience and for analytics and metrics about our visitors both on this website and other media. To find out more about the cookies we use, see our Privacy Policy.</p>
<p>If you decline, your information won’t be tracked when you visit this website. A single cookie will be used in your browser to remember your preference not to be tracked.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#">Accept</a> <a href="https://www.npmjs.com/package/node-fetch#">Decline</a></p>
<p><a href="https://github.blog/2020-04-15-npm-has-joined-github/"></a></p>
<p><strong>npm</strong> is now a part of <strong>GitHub</strong></p>
<p>❤Navel Piercing Madness</p>
<ul>
<li><a href="https://www.npmjs.com/products">Products</a>
<ul>
<li><a href="https://www.npmjs.com/products/pro">Pro</a></li>
<li><a href="https://www.npmjs.com/products/teams">Teams</a></li>
</ul></li>
<li><a href="https://www.npmjs.com/products">Pricing</a></li>
<li><a href="https://docs.npmjs.com/">Documentation</a></li>
<li><a href="https://npm.community/">Community</a></li>
</ul>
<h1 id="npm-._657f443d">npm {._657f443d}</h1>
<p><a href="https://www.npmjs.com/"></a></p>
<p>Search</p>
<p><a href="https://www.npmjs.com/signup">Sign Up</a><a href="https://www.npmjs.com/login">Sign In</a></p>
<p>Learn about our RFC process, Open RFC meetings &amp; more.<a href="https://github.com/npm/rfcs">Join in the discussion! »</a></p>
<h2 id="node-fetch" class="cd6ce1fd flex flex-column w-100 fw6 mt3 black dib ma0 tracked-tight no-underline hover-black f3-ns">node-fetch</h2>
<p>2.6.1 • Public • Published 10 days ago</p>
<ul>
<li><a href="https://www.npmjs.com/package/node-fetch?activeTab=readme"></a> Readme</li>
<li><a href="https://www.npmjs.com/package/node-fetch?activeTab=explore"></a> ExploreBETA</li>
<li><a href="https://www.npmjs.com/package/node-fetch?activeTab=dependencies"></a> 0Dependencies</li>
<li><a href="https://www.npmjs.com/package/node-fetch?activeTab=dependents"></a> 14,384Dependents</li>
<li><a href="https://www.npmjs.com/package/node-fetch?activeTab=versions"></a> 61Versions</li>
</ul>
<p><a href="https://www.npmjs.com/package/node-fetch#node-fetch"></a></p>
<p>node-fetch</p>
<p><a href="https://www.npmjs.com/package/node-fetch"><img src="./node-fetch%20-%20npm_files/node-fetch" alt="npm version" /></a> <a href="https://travis-ci.org/bitinn/node-fetch"><img src="./node-fetch%20-%20npm_files/node-fetch(1)" alt="build status" /></a> <a href="https://codecov.io/gh/bitinn/node-fetch"><img src="./node-fetch%20-%20npm_files/master" alt="coverage status" /></a> <a href="https://packagephobia.now.sh/result?p=node-fetch"><img src="./node-fetch%20-%20npm_files/node-fetch(2)" alt="install size" /></a> <a href="https://discord.gg/Zxbndcm"><img src="./node-fetch%20-%20npm_files/619915844268326952" alt="Discord" /></a></p>
<p>A light-weight module that brings <code>window.fetch</code> to Node.js</p>
<p>(We are looking for <a href="https://github.com/bitinn/node-fetch/issues/567">v2 maintainers and collaborators</a>)</p>
<p><a href="https://opencollective.com/node-fetch"><img src="./node-fetch%20-%20npm_files/backers.svg" alt="Backers" /></a></p>
<ul>
<li><a href="https://www.npmjs.com/package/node-fetch#motivation">Motivation</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#features">Features</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#difference-from-client-side-fetch">Difference from client-side fetch</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#installation">Installation</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#loading-and-configuring-the-module">Loading and configuring the module</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#common-usage">Common Usage</a>
<ul>
<li><a href="https://www.npmjs.com/package/node-fetch#plain-text-or-html">Plain text or HTML</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#json">JSON</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#simple-post">Simple Post</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#post-with-json">Post with JSON</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#post-with-form-parameters">Post with form parameters</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#handling-exceptions">Handling exceptions</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#handling-client-and-server-errors">Handling client and server errors</a></li>
</ul></li>
<li><a href="https://www.npmjs.com/package/node-fetch#advanced-usage">Advanced Usage</a>
<ul>
<li><a href="https://www.npmjs.com/package/node-fetch#streams">Streams</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#buffer">Buffer</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#accessing-headers-and-other-meta-data">Accessing Headers and other Meta data</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#extract-set-cookie-header">Extract Set-Cookie Header</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#post-data-using-a-file-stream">Post data using a file stream</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#post-with-form-data-detect-multipart">Post with form-data (detect multipart)</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#request-cancellation-with-abortsignal">Request cancellation with AbortSignal</a></li>
</ul></li>
<li><a href="https://www.npmjs.com/package/node-fetch#api">API</a>
<ul>
<li><a href="https://www.npmjs.com/package/node-fetch#fetchurl-options">fetch(url[, options])</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#options">Options</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#class-request">Class: Request</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#class-response">Class: Response</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#class-headers">Class: Headers</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#interface-body">Interface: Body</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#class-fetcherror">Class: FetchError</a></li>
</ul></li>
<li><a href="https://www.npmjs.com/package/node-fetch#license">License</a></li>
<li><a href="https://www.npmjs.com/package/node-fetch#acknowledgement">Acknowledgement</a></li>
</ul>
<p><a href="https://www.npmjs.com/package/node-fetch#motivation"></a></p>
<p>Motivation</p>
<p>Instead of implementing <code>XMLHttpRequest</code> in Node.js to run browser-specific <a href="https://github.com/github/fetch">Fetch polyfill</a>, why not go from native <code>http</code> to <code>fetch</code> API directly? Hence, <code>node-fetch</code>, minimal code for a <code>window.fetch</code> compatible API on Node.js runtime.</p>
<p>See Matt Andrews’ <a href="https://github.com/matthew-andrews/isomorphic-fetch">isomorphic-fetch</a> or Leonardo Quixada’s <a href="https://github.com/lquixada/cross-fetch">cross-fetch</a> for isomorphic usage (exports <code>node-fetch</code> for server-side, <code>whatwg-fetch</code> for client-side).</p>
<p><a href="https://www.npmjs.com/package/node-fetch#features"></a></p>
<p>Features</p>
<ul>
<li>Stay consistent with <code>window.fetch</code> API.</li>
<li>Make conscious trade-off when following <a href="https://fetch.spec.whatwg.org/">WHATWG fetch spec</a> and <a href="https://streams.spec.whatwg.org/">stream spec</a> implementation details, document known differences.</li>
<li>Use native promise but allow substituting it with [insert your favorite promise library].</li>
<li>Use native Node streams for body on both request and response.</li>
<li>Decode content encoding (gzip/deflate) properly and convert string output (such as <code>res.text()</code> and <code>res.json()</code>) to UTF-8 automatically.</li>
<li>Useful extensions such as timeout, redirect limit, response size limit, <a href="https://github.com/bitinn/node-fetch/blob/HEAD/ERROR-HANDLING.md">explicit errors</a> for troubleshooting.</li>
</ul>
<p><a href="https://www.npmjs.com/package/node-fetch#difference-from-client-side-fetch"></a></p>
<p>Difference from client-side fetch</p>
<ul>
<li>See <a href="https://github.com/bitinn/node-fetch/blob/HEAD/LIMITS.md">Known Differences</a> for details.</li>
<li>If you happen to use a missing feature that <code>window.fetch</code> offers, feel free to open an issue.</li>
<li>Pull requests are welcomed too!</li>
</ul>
<p><a href="https://www.npmjs.com/package/node-fetch#installation"></a></p>
<p>Installation</p>
<p>Current stable release (<code>2.x</code>)</p>
<pre class="editor editor-colors"><code>$ npm install node-fetch</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#loading-and-configuring-the-module"></a></p>
<p>Loading and configuring the module</p>
<p>We suggest you load the module via <code>require</code> until the stabilization of ES modules in node:</p>
<pre class="editor editor-colors"><code>const fetch = require(&#39;node-fetch&#39;);</code></pre>
<p>If you are using a Promise library other than native, set it through <code>fetch.Promise</code>:</p>
<pre class="editor editor-colors"><code>const Bluebird = require(&#39;bluebird&#39;); fetch.Promise = Bluebird;</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#common-usage"></a></p>
<p>Common Usage</p>
<p>NOTE: The documentation below is up-to-date with <code>2.x</code> releases; see the <a href="https://github.com/bitinn/node-fetch/blob/1.x/README.md"><code>1.x</code> readme</a>, <a href="https://github.com/bitinn/node-fetch/blob/1.x/CHANGELOG.md">changelog</a> and <a href="https://github.com/bitinn/node-fetch/blob/HEAD/UPGRADE-GUIDE.md">2.x upgrade guide</a> for the differences.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#plain-text-or-html"></a></p>
<p>Plain text or HTML</p>
<pre class="editor editor-colors"><code>fetch(&#39;https://github.com/&#39;)    .then(res =&gt; res.text())    .then(body =&gt; console.log(body));</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#json"></a></p>
<p>JSON</p>
<pre class="editor editor-colors"><code> fetch(&#39;https://api.github.com/users/github&#39;)    .then(res =&gt; res.json())    .then(json =&gt; console.log(json));</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#simple-post"></a></p>
<p>Simple Post</p>
<pre class="editor editor-colors"><code>fetch(&#39;https://httpbin.org/post&#39;, { method: &#39;POST&#39;, body: &#39;a=1&#39; })    .then(res =&gt; res.json()) // expecting a json response    .then(json =&gt; console.log(json));</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#post-with-json"></a></p>
<p>Post with JSON</p>
<pre class="editor editor-colors"><code>const body = { a: 1 }; fetch(&#39;https://httpbin.org/post&#39;, {        method: &#39;post&#39;,        body:    JSON.stringify(body),        headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },    })    .then(res =&gt; res.json())    .then(json =&gt; console.log(json));</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#post-with-form-parameters"></a></p>
<p>Post with form parameters</p>
<p><code>URLSearchParams</code> is available in Node.js as of v7.5.0. See <a href="https://nodejs.org/api/url.html#url_class_urlsearchparams">official documentation</a> for more usage methods.</p>
<p>NOTE: The <code>Content-Type</code> header is only set automatically to <code>x-www-form-urlencoded</code> when an instance of <code>URLSearchParams</code> is given as such:</p>
<pre class="editor editor-colors"><code>const { URLSearchParams } = require(&#39;url&#39;); const params = new URLSearchParams();params.append(&#39;a&#39;, 1); fetch(&#39;https://httpbin.org/post&#39;, { method: &#39;POST&#39;, body: params })    .then(res =&gt; res.json())    .then(json =&gt; console.log(json));</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#handling-exceptions"></a></p>
<p>Handling exceptions</p>
<p>NOTE: 3xx-5xx responses are <em>NOT</em> exceptions and should be handled in <code>then()</code>; see the next section for more information.</p>
<p>Adding a catch to the fetch promise chain will catch <em>all</em> exceptions, such as errors originating from node core libraries, network errors and operational errors, which are instances of FetchError. See the <a href="https://github.com/bitinn/node-fetch/blob/HEAD/ERROR-HANDLING.md">error handling document</a> for more details.</p>
<pre class="editor editor-colors"><code>fetch(&#39;https://domain.invalid/&#39;)    .catch(err =&gt; console.error(err));</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#handling-client-and-server-errors"></a></p>
<p>Handling client and server errors</p>
<p>It is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:</p>
<pre class="editor editor-colors"><code>function checkStatus(res) {    if (res.ok) { // res.status &gt;= 200 &amp;&amp; res.status &lt; 300        return res;    } else {        throw MyCustomError(res.statusText);    }} fetch(&#39;https://httpbin.org/status/400&#39;)    .then(checkStatus)    .then(res =&gt; console.log(&#39;will not get here...&#39;))</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#advanced-usage"></a></p>
<p>Advanced Usage</p>
<p><a href="https://www.npmjs.com/package/node-fetch#streams"></a></p>
<p>Streams</p>
<p>The “Node.js way” is to use streams when possible:</p>
<pre class="editor editor-colors"><code>fetch(&#39;https://assets-cdn.github.com/images/modules/logos_page/Octocat.png&#39;)    .then(res =&gt; {        const dest = fs.createWriteStream(&#39;./octocat.png&#39;);        res.body.pipe(dest);    });</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#buffer"></a></p>
<p>Buffer</p>
<p>If you prefer to cache binary data in full, use buffer(). (NOTE: <code>buffer()</code> is a <code>node-fetch</code>-only API)</p>
<pre class="editor editor-colors"><code>const fileType = require(&#39;file-type&#39;); fetch(&#39;https://assets-cdn.github.com/images/modules/logos_page/Octocat.png&#39;)    .then(res =&gt; res.buffer())    .then(buffer =&gt; fileType(buffer))    .then(type =&gt; { /* ... */ });</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#accessing-headers-and-other-meta-data"></a></p>
<p>Accessing Headers and other Meta data</p>
<pre class="editor editor-colors"><code>fetch(&#39;https://github.com/&#39;)    .then(res =&gt; {        console.log(res.ok);        console.log(res.status);        console.log(res.statusText);        console.log(res.headers.raw());        console.log(res.headers.get(&#39;content-type&#39;));    });</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#extract-set-cookie-header"></a></p>
<p>Extract Set-Cookie Header</p>
<p>Unlike browsers, you can access raw <code>Set-Cookie</code> headers manually using <code>Headers.raw()</code>. This is a <code>node-fetch</code> only API.</p>
<pre class="editor editor-colors"><code>fetch(url).then(res =&gt; {    // returns an array of values, instead of a string of comma-separated values    console.log(res.headers.raw()[&#39;set-cookie&#39;]);});</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#post-data-using-a-file-stream"></a></p>
<p>Post data using a file stream</p>
<pre class="editor editor-colors"><code>const { createReadStream } = require(&#39;fs&#39;); const stream = createReadStream(&#39;input.txt&#39;); fetch(&#39;https://httpbin.org/post&#39;, { method: &#39;POST&#39;, body: stream })    .then(res =&gt; res.json())    .then(json =&gt; console.log(json));</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#post-with-form-data-detect-multipart"></a></p>
<p>Post with form-data (detect multipart)</p>
<pre class="editor editor-colors"><code>const FormData = require(&#39;form-data&#39;); const form = new FormData();form.append(&#39;a&#39;, 1); fetch(&#39;https://httpbin.org/post&#39;, { method: &#39;POST&#39;, body: form })    .then(res =&gt; res.json())    .then(json =&gt; console.log(json)); // OR, using custom headers// NOTE: getHeaders() is non-standard API const form = new FormData();form.append(&#39;a&#39;, 1); const options = {    method: &#39;POST&#39;,    body: form,    headers: form.getHeaders()} fetch(&#39;https://httpbin.org/post&#39;, options)    .then(res =&gt; res.json())    .then(json =&gt; console.log(json));</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#request-cancellation-with-abortsignal"></a></p>
<p>Request cancellation with AbortSignal</p>
<blockquote>
<p>NOTE: You may cancel streamed requests only on Node &gt;= v8.0.0</p>
</blockquote>
<p>You may cancel requests with <code>AbortController</code>. A suggested implementation is <a href="https://www.npmjs.com/package/abort-controller"><code>abort-controller</code></a>.</p>
<p>An example of timing out a request after 150ms could be achieved as the following:</p>
<pre class="editor editor-colors"><code>import AbortController from &#39;abort-controller&#39;; const controller = new AbortController();const timeout = setTimeout(  () =&gt; { controller.abort(); },  150,); fetch(url, { signal: controller.signal })  .then(res =&gt; res.json())  .then(    data =&gt; {      useData(data)    },    err =&gt; {      if (err.name === &#39;AbortError&#39;) {        // request was aborted      }    },  )  .finally(() =&gt; {    clearTimeout(timeout);  });</code></pre>
<p>See <a href="https://github.com/bitinn/node-fetch/blob/master/test/test.js">test cases</a> for more examples.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#api"></a></p>
<p>API</p>
<p><a href="https://www.npmjs.com/package/node-fetch#fetchurl-options"></a></p>
<p>fetch(url[, options])</p>
<ul>
<li><code>url</code> A string representing the URL for fetching</li>
<li><code>options</code> <a href="https://www.npmjs.com/package/node-fetch#fetch-options">Options</a> for the HTTP(S) request</li>
<li>Returns: <code>Promise&lt;Response&gt;</code></li>
</ul>
<p>Perform an HTTP(S) fetch.</p>
<p><code>url</code> should be an absolute url, such as <code>https://example.com/</code>. A path-relative URL (<code>/file/under/root</code>) or protocol-relative URL (<code>//can-be-http-or-https.com/</code>) will result in a rejected <code>Promise</code>.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#options"></a></p>
<p>Options</p>
<p>The default values are shown after each option key.</p>
<pre class="editor editor-colors"><code>{    // These properties are part of the Fetch Standard    method: &#39;GET&#39;,    headers: {},        // request headers. format is the identical to that accepted by the Headers constructor (see below)    body: null,         // request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream    redirect: &#39;follow&#39;, // set to `manual` to extract redirect headers, `error` to reject redirect    signal: null,       // pass an instance of AbortSignal to optionally abort requests     // The following properties are node-fetch extensions    follow: 20,         // maximum redirect count. 0 to not follow redirect    timeout: 0,         // req/res timeout in ms, it resets on redirect. 0 to disable (OS limit applies). Signal is recommended instead.    compress: true,     // support gzip/deflate content encoding. false to disable    size: 0,            // maximum response body size in bytes. 0 to disable    agent: null         // http(s).Agent instance or function that returns an instance (see below)}</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#default-headers"></a></p>
<p>Default Headers</p>
<p>If no values are set, the following request headers will be sent automatically:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Header</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>Accept-Encoding</code></td>
<td style="text-align: left;"><code>gzip,deflate</code> <em>(when <code>options.compress === true</code>)</em></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>Accept</code></td>
<td style="text-align: left;"><code>*/*</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>Connection</code></td>
<td style="text-align: left;"><code>close</code> <em>(when no <code>options.agent</code> is present)</em></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>Content-Length</code></td>
<td style="text-align: left;"><em>(automatically calculated, if possible)</em></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>Transfer-Encoding</code></td>
<td style="text-align: left;"><code>chunked</code> <em>(when <code>req.body</code> is a stream)</em></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>User-Agent</code></td>
<td style="text-align: left;"><code>node-fetch/1.0 (+https://github.com/bitinn/node-fetch)</code></td>
</tr>
</tbody>
</table>
<p>Note: when <code>body</code> is a <code>Stream</code>, <code>Content-Length</code> is not set automatically.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#custom-agent"></a></p>
<p>Custom Agent</p>
<p>The <code>agent</code> option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:</p>
<ul>
<li>Support self-signed certificate</li>
<li>Use only IPv4 or IPv6</li>
<li>Custom DNS Lookup</li>
</ul>
<p>See <a href="https://nodejs.org/api/http.html#http_new_agent_options"><code>http.Agent</code></a> for more information.</p>
<p>In addition, the <code>agent</code> option accepts a function that returns <code>http</code>(s)<code>.Agent</code> instance given current <a href="https://nodejs.org/api/url.html">URL</a>, this is useful during a redirection chain across HTTP and HTTPS protocol.</p>
<pre class="editor editor-colors"><code>const httpAgent = new http.Agent({    keepAlive: true});const httpsAgent = new https.Agent({    keepAlive: true}); const options = {    agent: function (_parsedURL) {        if (_parsedURL.protocol == &#39;http:&#39;) {            return httpAgent;        } else {            return httpsAgent;        }    }}</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#class-request"></a></p>
<p>Class: Request</p>
<p>An HTTP(S) request containing information about URL, method, headers, and the body. This class implements the <a href="https://www.npmjs.com/package/node-fetch#iface-body">Body</a> interface.</p>
<p>Due to the nature of Node.js, the following properties are not implemented at this moment:</p>
<ul>
<li><code>type</code></li>
<li><code>destination</code></li>
<li><code>referrer</code></li>
<li><code>referrerPolicy</code></li>
<li><code>mode</code></li>
<li><code>credentials</code></li>
<li><code>cache</code></li>
<li><code>integrity</code></li>
<li><code>keepalive</code></li>
</ul>
<p>The following node-fetch extension properties are provided:</p>
<ul>
<li><code>follow</code></li>
<li><code>compress</code></li>
<li><code>counter</code></li>
<li><code>agent</code></li>
</ul>
<p>See <a href="https://www.npmjs.com/package/node-fetch#fetch-options">options</a> for exact meaning of these extensions.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#new-requestinput-options"></a></p>
<p>new Request(input[, options])</p>
<p><em>(spec-compliant)</em></p>
<ul>
<li><code>input</code> A string representing a URL, or another <code>Request</code> (which will be cloned)</li>
<li><code>options</code> [Options][#fetch-options] for the HTTP(S) request</li>
</ul>
<p>Constructs a new <code>Request</code> object. The constructor is identical to that in the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request/Request">browser</a>.</p>
<p>In most cases, directly <code>fetch(url, options)</code> is simpler than creating a <code>Request</code> object.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#class-response"></a></p>
<p>Class: Response</p>
<p>An HTTP(S) response. This class implements the <a href="https://www.npmjs.com/package/node-fetch#iface-body">Body</a> interface.</p>
<p>The following properties are not implemented in node-fetch at this moment:</p>
<ul>
<li><code>Response.error()</code></li>
<li><code>Response.redirect()</code></li>
<li><code>type</code></li>
<li><code>trailer</code></li>
</ul>
<p><a href="https://www.npmjs.com/package/node-fetch#new-responsebody-options"></a></p>
<p>new Response([body[, options]])</p>
<p><em>(spec-compliant)</em></p>
<ul>
<li><code>body</code> A <code>String</code> or <a href="https://nodejs.org/api/stream.html#stream_readable_streams"><code>Readable</code> stream</a></li>
<li><code>options</code> A <a href="https://fetch.spec.whatwg.org/#responseinit"><code>ResponseInit</code></a> options dictionary</li>
</ul>
<p>Constructs a new <code>Response</code> object. The constructor is identical to that in the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response/Response">browser</a>.</p>
<p>Because Node.js does not implement service workers (for which this class was designed), one rarely has to construct a <code>Response</code> directly.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#responseok"></a></p>
<p>response.ok</p>
<p><em>(spec-compliant)</em></p>
<p>Convenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#responseredirected"></a></p>
<p>response.redirected</p>
<p><em>(spec-compliant)</em></p>
<p>Convenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#class-headers"></a></p>
<p>Class: Headers</p>
<p>This class allows manipulating and iterating over a set of HTTP headers. All methods specified in the <a href="https://fetch.spec.whatwg.org/">Fetch Standard</a> are implemented.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#new-headersinit"></a></p>
<p>new Headers([init])</p>
<p><em>(spec-compliant)</em></p>
<ul>
<li><code>init</code> Optional argument to pre-fill the <code>Headers</code> object</li>
</ul>
<p>Construct a new <code>Headers</code> object. <code>init</code> can be either <code>null</code>, a <code>Headers</code> object, an key-value map object or any iterable object.</p>
<pre class="editor editor-colors"><code>// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class const meta = {  &#39;Content-Type&#39;: &#39;text/xml&#39;,  &#39;Breaking-Bad&#39;: &#39;&lt;3&#39;};const headers = new Headers(meta); // The above is equivalent toconst meta = [  [ &#39;Content-Type&#39;, &#39;text/xml&#39; ],  [ &#39;Breaking-Bad&#39;, &#39;&lt;3&#39; ]];const headers = new Headers(meta); // You can in fact use any iterable objects, like a Map or even another Headersconst meta = new Map();meta.set(&#39;Content-Type&#39;, &#39;text/xml&#39;);meta.set(&#39;Breaking-Bad&#39;, &#39;&lt;3&#39;);const headers = new Headers(meta);const copyOfHeaders = new Headers(headers);</code></pre>
<p><a href="https://www.npmjs.com/package/node-fetch#interface-body"></a></p>
<p>Interface: Body</p>
<p><code>Body</code> is an abstract interface with methods that are applicable to both <code>Request</code> and <code>Response</code> classes.</p>
<p>The following methods are not yet implemented in node-fetch at this moment:</p>
<ul>
<li><code>formData()</code></li>
</ul>
<p><a href="https://www.npmjs.com/package/node-fetch#bodybody"></a></p>
<p>body.body</p>
<p><em>(deviation from spec)</em></p>
<ul>
<li>Node.js <a href="https://nodejs.org/api/stream.html#stream_readable_streams"><code>Readable</code> stream</a></li>
</ul>
<p>Data are encapsulated in the <code>Body</code> object. Note that while the <a href="https://fetch.spec.whatwg.org/">Fetch Standard</a> requires the property to always be a WHATWG <code>ReadableStream</code>, in node-fetch it is a Node.js <a href="https://nodejs.org/api/stream.html#stream_readable_streams"><code>Readable</code> stream</a>.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#bodybodyused"></a></p>
<p>body.bodyUsed</p>
<p><em>(spec-compliant)</em></p>
<ul>
<li><code>Boolean</code></li>
</ul>
<p>A boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#bodyarraybuffer"></a></p>
<p>body.arrayBuffer()</p>
<p><a href="https://www.npmjs.com/package/node-fetch#bodyblob"></a></p>
<p>body.blob()</p>
<p><a href="https://www.npmjs.com/package/node-fetch#bodyjson"></a></p>
<p>body.json()</p>
<p><a href="https://www.npmjs.com/package/node-fetch#bodytext"></a></p>
<p>body.text()</p>
<p><em>(spec-compliant)</em></p>
<ul>
<li>Returns: <code>Promise</code></li>
</ul>
<p>Consume the body and return a promise that will resolve to one of these formats.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#bodybuffer"></a></p>
<p>body.buffer()</p>
<p><em>(node-fetch extension)</em></p>
<ul>
<li>Returns: <code>Promise&lt;Buffer&gt;</code></li>
</ul>
<p>Consume the body and return a promise that will resolve to a Buffer.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#bodytextconverted"></a></p>
<p>body.textConverted()</p>
<p><em>(node-fetch extension)</em></p>
<ul>
<li>Returns: <code>Promise&lt;String&gt;</code></li>
</ul>
<p>Identical to <code>body.text()</code>, except instead of always converting to UTF-8, encoding sniffing will be performed and text converted to UTF-8 if possible.</p>
<p>(This API requires an optional dependency of the npm package <a href="https://www.npmjs.com/package/encoding">encoding</a>, which you need to install manually. <code>webpack</code> users may see <a href="https://github.com/bitinn/node-fetch/issues/412#issuecomment-379007792">a warning message</a> due to this optional dependency.)</p>
<p><a href="https://www.npmjs.com/package/node-fetch#class-fetcherror"></a></p>
<p>Class: FetchError</p>
<p><em>(node-fetch extension)</em></p>
<p>An operational error in the fetching process. See <a href="https://github.com/bitinn/node-fetch/blob/master/ERROR-HANDLING.md">ERROR-HANDLING.md</a> for more info.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#class-aborterror"></a></p>
<p>Class: AbortError</p>
<p><em>(node-fetch extension)</em></p>
<p>An Error thrown when the request is aborted in response to an <code>AbortSignal</code>’s <code>abort</code> event. It has a <code>name</code> property of <code>AbortError</code>. See <a href="https://github.com/bitinn/node-fetch/blob/master/ERROR-HANDLING.md">ERROR-HANDLING.MD</a> for more info.</p>
<p><a href="https://www.npmjs.com/package/node-fetch#acknowledgement"></a></p>
<p>Acknowledgement</p>
<p>Thanks to <a href="https://github.com/github/fetch">github/fetch</a> for providing a solid implementation reference.</p>
<p><code>node-fetch</code> v1 was maintained by <span class="citation" data-cites="bitinn">[@bitinn]</span>(https://github.com/bitinn); v2 was maintained by <span class="citation" data-cites="TimothyGu">[@TimothyGu]</span>(https://github.com/timothygu), <span class="citation" data-cites="bitinn">[@bitinn]</span>(https://github.com/bitinn) and <span class="citation" data-cites="jimmywarting">[@jimmywarting]</span>(https://github.com/jimmywarting); v2 readme is written by <span class="citation" data-cites="jkantr">[@jkantr]</span>(https://github.com/jkantr).</p>
<p><a href="https://www.npmjs.com/package/node-fetch#license"></a></p>
<p>License</p>
<p>MIT</p>
<h2 id="user-content-keywords" class="a0dff0b1 mt2 pt2 mb3 pb3 f4 fw6 b--black-10">Keywords</h2>
<ul>
<li><a href="https://www.npmjs.com/search?q=keywords:fetch">fetch</a></li>
<li><a href="https://www.npmjs.com/search?q=keywords:http">http</a></li>
<li><a href="https://www.npmjs.com/search?q=keywords:promise">promise</a></li>
</ul>
<h3 id="install" class="c84e15be f5 mt2 pt2 mb0 black-50">Install</h3>
<p><code class="flex-auto truncate db" title="Copy Command to Clipboard">npm i node-fetch</code></p>
<p>Downloads</p>
<p>Weekly Downloads</p>
<p>18,202,437</p>
<h3 id="version" class="c84e15be f5 mt2 pt2 mb0 black-50">Version</h3>
<p>2.6.1</p>
<h3 id="license" class="c84e15be f5 mt2 pt2 mb0 black-50">License</h3>
<p>MIT</p>
<h3 id="unpacked-size" class="c84e15be f5 mt2 pt2 mb0 black-50">Unpacked Size</h3>
<p>158 kB</p>
<h3 id="total-files" class="c84e15be f5 mt2 pt2 mb0 black-50">Total Files</h3>
<p>8</p>
<h3 id="issues" class="c84e15be f5 mt2 pt2 mb0 black-50">Issues</h3>
<p><a href="https://github.com/bitinn/node-fetch/issues">59</a></p>
<h3 id="pull-requests" class="c84e15be f5 mt2 pt2 mb0 black-50">Pull Requests</h3>
<p><a href="https://github.com/bitinn/node-fetch/pulls">11</a></p>
<h3 id="homepage" class="c84e15be f5 mt2 pt2 mb0 black-50">Homepage</h3>
<p><a href="https://github.com/bitinn/node-fetch"></a></p>
<p>github.com/bitinn/node-fetch</p>
<h3 id="repository" class="c84e15be f5 mt2 pt2 mb0 black-50">Repository</h3>
<p><a href="https://github.com/bitinn/node-fetch"></a></p>
<p>Git</p>
<p>github.com/bitinn/node-fetch</p>
<h3 id="last-publish" class="c84e15be f5 mt2 pt2 mb0 black-50">Last publish</h3>
<p>10 days ago</p>
<h3 id="collaborators" class="c84e15be f5 mt2 pt2 mb0 black-50">Collaborators</h3>
<ul>
<li><a href="https://www.npmjs.com/~akepinski"><img src="./node-fetch%20-%20npm_files/39bb5a0f30fc2bcfd5c2b14866a4291b.jpeg" title="akepinski" alt="avatar" /></a></li>
<li><a href="https://www.npmjs.com/~bitinn"><img src="./node-fetch%20-%20npm_files/9a8104ac432b50b9f01f0d75be493699.png" title="bitinn" alt="avatar" /></a></li>
<li><a href="https://www.npmjs.com/~endless"><img src="./node-fetch%20-%20npm_files/02f476ed950384700afba952f6efaa28.jpeg" title="endless" alt="avatar" /></a></li>
<li><a href="https://www.npmjs.com/~timothygu"><img src="./node-fetch%20-%20npm_files/219b77f9d21de75e81851b6b886057c7.jpeg" title="timothygu" alt="avatar" /></a></li>
</ul>
<p><a href="https://runkit.com/npm/node-fetch"></a></p>
<p><strong>Try</strong> on RunKit</p>
<p><a href="https://www.npmjs.com/advisories/report?package=node-fetch"></a></p>
<p><strong>Report</strong> a vulnerability</p>
<h3 id="support-._1b8c0a9f">Support {._1b8c0a9f}</h3>
<ul>
<li><a href="https://docs.npmjs.com/">Help</a></li>
<li><a href="https://npm.community/">Community</a></li>
<li><a href="https://www.npmjs.com/advisories">Advisories</a></li>
<li><a href="http://status.npmjs.org/">Status</a></li>
<li><a href="https://www.npmjs.com/support">Contact npm</a></li>
</ul>
<h3 id="company-._1b8c0a9f">Company {._1b8c0a9f}</h3>
<ul>
<li><a href="https://www.npmjs.com/about">About</a></li>
<li><a href="https://blog.npmjs.org/">Blog</a></li>
<li><a href="https://www.npmjs.com/press">Press</a></li>
</ul>
<h3 id="terms-policies-._1b8c0a9f">Terms &amp; Policies {._1b8c0a9f}</h3>
<ul>
<li><a href="https://www.npmjs.com/policies/">Policies</a></li>
<li><a href="https://www.npmjs.com/policies/terms">Terms of Use</a></li>
<li><a href="https://www.npmjs.com/policies/conduct">Code of Conduct</a></li>
<li><a href="https://www.npmjs.com/policies/privacy">Privacy</a></li>
</ul>
</body>
</html>
