<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>proj1_local-storage</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<h1 id="project-shop-local-storage">Project: Shop Local Storage!</h1>
<p>Learning how to set up an online shop is useful for everyone from large e-commerce companies to an indie small business owner with a hobby website. Shopping carts are an integral part of any online store. In this project you will set one up with JavaScript – and then, sell, baby, sell!</p>
<p>As we previously reviewed, <code>localStorage</code> is an ideal place to store data in the browser without affecting the server-side database. One use-case for <code>localStorage</code> is saving a user’s shopping cart so it persists from page to page. Now that you know how to set and get items in <code>localStorage</code>, put that knowledge to use in this project.</p>
<p>In this project, you will practice:</p>
<ul>
<li>Setting up a quick shopping cart</li>
<li>Storing items in <code>localStorage</code></li>
<li>Reading items in <code>localStorage</code></li>
<li>Removing an item from <code>localStorage</code></li>
</ul>
<h2 id="project-overview">Project overview</h2>
<p>We’ve set up a project folder called <strong>local-storage-project.zip</strong>. Use these files to complete the project.</p>
<p>We have filled out the HTML file with a few elements and the CSS with some basic styles to represent a page where users can add items to a shopping cart. Open <strong>storage-project.html</strong> in a browser to see what this page looks like.</p>
<p>In Phases 1-3, you will write JavaScript functions to let the user do the following:</p>
<ul>
<li>Add an item to the shopping cart (<em>i.e. store the item in <code>localStorage</code></em>)</li>
<li>Display the items in the shopping cart (<em>i.e. read the item in <code>localStorage</code></em>)</li>
<li>Remove an item from the shopping cart (<em>i.e. remove the item from <code>localStorage</code></em>)</li>
</ul>
<h2 id="phase-1-write-a-function-to-store-an-item-in-the-cart">Phase 1: Write a function to store an item in the cart</h2>
<p>Our HTML file contains a simple form with a couple of inputs and a submit button, as well as an area to display cart items.</p>
<p>In a code editor, open the <strong>storage-project.js</strong> file, where you’ll write all of your JavaScript. You should see an event listener for <code>DOMContentLoaded</code> because, again, it’s a good idea to wrap functions that manipulate the DOM in this listener (or else, have a bad time with async issues!).</p>
<p>The first order of business is to write a function that stores the form values in <code>localStorage</code> whenever the user clicks the <code>add-to-cart</code> button. This function should:</p>
<ul>
<li>Listen for a click event</li>
<li>Grab the form values</li>
<li>Store the item in <code>localStorage</code></li>
</ul>
<p><em>Hint: Recall that we use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">Storage.setItem()</a> to set a key-value pair in <code>localStorage</code>.</em></p>
<h2 id="phase-2-write-a-function-to-display-the-cart-items">Phase 2: Write a function to display the cart items</h2>
<p>The second order of business is to write a function to display the items that have been saved in <code>localStorage</code> to the Shopping Cart part of the page. In your HTML file, this is represented by the <code>div</code> with an ID of <code>shopping-cart</code>. This function should:</p>
<ul>
<li>Retrieve the item(s) stored in <code>localStorage</code></li>
<li>Insert the items into the DOM in the <code>shopping-cart</code> DIV</li>
<li>Display both the item’s name and its quantity</li>
</ul>
<p><em>Hint: You might want to use a loop!</em></p>
<p><em>Hint: Recall that we use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem">Storage.getItem(key)</a> to get a value via its key.</em></p>
<p><em>Hint: We can also use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/key">Storage.key(index)</a> to get a key name via its index.</em></p>
<h2 id="phase-3-write-a-function-to-remove-items-from-the-cart">Phase 3: Write a function to remove items from the cart</h2>
<p>The last thing we need to have a fully functional cart is for the user to be able to remove items from the cart. Write a function that lets the user remove items from their cart. In order to do this, you might want to add to or amend the function you wrote in Phase 2.</p>
<p>Insert <strong>Remove</strong> buttons next to each cart item you inserted on the page. Then, write a function that does the following:</p>
<ul>
<li>Listen for a click event on the “Remove” buttons</li>
<li>Remove the corresponding item from <code>localStorage</code></li>
<li>Remove the item from the <code>shopping-cart</code> DIV</li>
</ul>
<p><em>Hint: We can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem">Storage.removeItem()</a> to remove an item from <code>localStorage</code>.</em></p>
<p><em>Hint: We can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll">document.querySelectorAll()</a> to get a Node List of the buttons. Then, loop through the list.</em></p>
<p><em>Hint: Recall what you know about <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/target">event.target</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/parentNode">Element.parentNode</a>. It would be helpful to store the item’s key in an ID attribute on the Remove button or the button’s containing DIV, so that you know which corresponding key-value pair to remove from <code>localStorage</code>.</em></p>
<p><em>Hint: We can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/reload">location.reload</a> to refresh the page when an item is removed. If everything is working correctly, the other cart items should still display after a page refresh.</em></p>
<h2 id="check-that-your-shopping-cart-functions-correctly">Check that your shopping cart functions correctly</h2>
<p>After you’ve written your JS, test that the page functions as it should. A user should be able to add an item with a given quantity to the cart. You should be able to see this item in <code>localStorage</code> in your browser’s Developer Tools, and it should show up in the Shopping Cart section of the page.</p>
<p>When a user removes an item by clicking the “Remove” button, that item should be removed from <code>localStorage</code> as well as the page.</p>
<p>When you refresh the page, or close and reopen the browser, the cart items that have not been removed should still appear on the page.</p>
<h2 id="bonus-a-update-cart-item-quantities-and-reset-values">Bonus A: Update cart item quantities and reset values</h2>
<p>Instead of displaying text values of the item quantities (e.g. “1”, “5”, “12”) on the page, replace those with an <a href="https://www.html5tutorial.info/html5-number.php">HTML5 number spinner</a>. What’s that, you ask? It’s really just a fancy way to say an input field that lets you increment and decrement a number value. We’ve actually already used one on the page. Check the input for <code>quantity</code> for an example.</p>
<p>When a user increments or decrements the input value of an item’s quantity, get the input value and use it to update the corresponding key-value pair in <code>localStorage</code>.</p>
<h2 id="bonus-b-calculate-the-item-totals">Bonus B: Calculate the item totals</h2>
<p>Currently, if a user adds an item to the cart, let’s say <strong>Apples: 1</strong>, and then adds that same item to the cart again with a different value, let’s say <strong>Apples: 3</strong>, the value in <code>localStorage</code> gets overwritten with the new value – <strong>Apples: 3</strong>.</p>
<p>Write a function to calculate the total quantity added to the cart, instead of rewriting the value. Using the above example, the actual total would be <strong>Apples: 4</strong>. After calculating the total quantity of an item, update the corresponding key-value pair in <code>localStorage</code> with the total.</p>
<p>When you’ve finished all of the above, congratulate yourself for all the hard work. You made a shopping cart!</p>
</body>
</html>
