<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>W02D4-LOs-explained</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h2 id="scope-w2d4---learning-objectives">Scope (W2D4) - Learning Objectives</h2>
<h3 id="scope">Scope</h3>
<ol type="1">
<li>Identify the difference between const, let, and var declarations</li>
</ol>
<ul>
<li><code>const</code> does not allow us to reassign the variable. The variable is block-scoped.</li>
<li><code>let</code> allows us to reassign the variable. The variable is block-scoped.</li>
<li><code>var</code> allows us to reassign the variable. The variable is function-scoped.</li>
</ul>
<ol start="2" type="1">
<li>Explain the difference between const, let, and var declarations</li>
</ol>
<ul>
<li>There are two main differences between the different variable declarations: their ability to be reassigned and their scope.</li>
<li>Trying to reassign a <code>const</code> will result in an error, whereas reassigning <code>let</code> and <code>var</code> variables will not. Any variable that should not change value should be created using a <code>const</code> so that we can ensure that this expectation is upheld.</li>
<li>The function-scoped nature of <code>var</code> can sometimes cause some issues.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">function</span> <span class="at">scopeExample</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="kw">let</span> letMessage <span class="op">=</span> <span class="st">&#39;let upper scope&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="kw">var</span> varMessage <span class="op">=</span> <span class="st">&#39;var upper scope&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="cf">if</span> (<span class="kw">true</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="kw">let</span> letMessage <span class="op">=</span> <span class="st">&#39;let lower scope&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="kw">var</span> varMessage <span class="op">=</span> <span class="st">&#39;var lower scope&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="va">console</span>.<span class="at">log</span>(letMessage)<span class="op">;</span> <span class="co">// let lower scope</span></a>
<a class="sourceLine" id="cb1-10" title="10">    <span class="va">console</span>.<span class="at">log</span>(varMessage)<span class="op">;</span> <span class="co">// var lower scope</span></a>
<a class="sourceLine" id="cb1-11" title="11">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-12" title="12"></a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="va">console</span>.<span class="at">log</span>(letMessage)<span class="op">;</span> <span class="co">// let upper scope</span></a>
<a class="sourceLine" id="cb1-14" title="14">  <span class="va">console</span>.<span class="at">log</span>(varMessage)<span class="op">;</span> <span class="co">// var lower scope</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="op">}</span></a></code></pre></div>
<ul>
<li>As you can see, the varMessage variable was actually reassigned inside the if block, since <code>var</code> is function-scoped. Using the <code>var</code> keyword with the same variable name in the same scope does not error out, but instead just reassigns the variable. If we were to do that with <code>let</code> (in the same block, since <code>let</code> is block-scoped instead of function-scoped), it would throw an error:</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="cf">if</span> (<span class="kw">true</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="kw">var</span> varTest <span class="op">=</span> <span class="st">&quot;var message!&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="kw">var</span> varTest <span class="op">=</span> <span class="st">&quot;I&#39;m reassigned!&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="kw">let</span> letTest <span class="op">=</span> <span class="st">&quot;let message!&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="kw">let</span> letTest <span class="op">=</span> <span class="st">&quot;nope!&quot;</span><span class="op">;</span> <span class="co">// Uncaught SyntaxError: Identifier &#39;test&#39; has already been declared</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="op">}</span></a></code></pre></div>
<ul>
<li>When using <code>var</code>, if we happened to use the same name for a variable in our if statement as anywhere else within our function, it would reassign that variable instead of creating a new block-scoped variable. This can cause unintended consequences if we were to rely on that original variable later on in our code.</li>
<li>In general, using <code>let</code> and <code>const</code> allows us to have a bit more control over where we can access the variable and prevents unintended reassignment of variables.</li>
</ul>
<ol start="3" type="1">
<li>Predict the evaluation of code that utilizes function scope, block scope, lexical scope, and scope chaining</li>
</ol>
<ul>
<li>Function-scope allows us to repeat variable names in different functions without causing any interaction.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// global scope</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">let</span> myName <span class="op">=</span> <span class="st">&quot;global&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw">function</span> <span class="at">function1</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-5" title="5">  <span class="co">// function1&#39;s scope</span></a>
<a class="sourceLine" id="cb3-6" title="6">  <span class="kw">let</span> myName <span class="op">=</span> <span class="st">&quot;func1&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-7" title="7">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;function1 myName: &quot;</span> <span class="op">+</span> myName)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb3-9" title="9"></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="kw">function</span> <span class="at">function2</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-11" title="11">  <span class="co">// function2&#39;s scope</span></a>
<a class="sourceLine" id="cb3-12" title="12">  <span class="kw">let</span> myName <span class="op">=</span> <span class="st">&quot;func2&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-13" title="13">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;function2 myName: &quot;</span> <span class="op">+</span> myName)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="op">}</span></a>
<a class="sourceLine" id="cb3-15" title="15"></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="at">function1</span>()<span class="op">;</span> <span class="co">// function1 myName: func1</span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="at">function2</span>()<span class="op">;</span> <span class="co">// function2 myName: func2</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;global myName: &quot;</span> <span class="op">+</span> myName)<span class="op">;</span> <span class="co">// global myName: global</span></a></code></pre></div>
<ul>
<li>Block-scope provides similar functionality even within a function, separating by any block, such as an <code>if</code> statement or <code>for</code> loop:</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="co">// global scope</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">let</span> dog <span class="op">=</span> <span class="st">&quot;woof&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">// function scope</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="kw">function</span> <span class="at">bark</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-6" title="6">  <span class="kw">let</span> dog <span class="op">=</span> <span class="st">&quot;growl&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-7" title="7"></a>
<a class="sourceLine" id="cb4-8" title="8">  <span class="co">// block scope</span></a>
<a class="sourceLine" id="cb4-9" title="9">  <span class="cf">if</span> (<span class="kw">true</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-10" title="10">    <span class="kw">let</span> dog <span class="op">=</span> <span class="st">&quot;bowwow&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-11" title="11">    <span class="va">console</span>.<span class="at">log</span>(dog)<span class="op">;</span> <span class="co">// will print &quot;bowwow&quot;</span></a>
<a class="sourceLine" id="cb4-12" title="12">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-13" title="13"></a>
<a class="sourceLine" id="cb4-14" title="14">  <span class="va">console</span>.<span class="at">log</span>(dog)<span class="op">;</span> <span class="co">// will print &quot;growl&quot;</span></a>
<a class="sourceLine" id="cb4-15" title="15"><span class="op">}</span></a>
<a class="sourceLine" id="cb4-16" title="16"></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="at">bark</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-18" title="18"><span class="va">console</span>.<span class="at">log</span>(dog)<span class="op">;</span> <span class="co">// will print &quot;woof&quot;</span></a></code></pre></div>
<ul>
<li>With scope-chaining, an inner scope has access to variables in the outer scope:</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">let</span> dog <span class="op">=</span> <span class="st">&quot;Maggie&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">function</span> <span class="at">bark</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb5-4" title="4">  <span class="va">console</span>.<span class="at">log</span>(dog <span class="op">+</span> <span class="st">&quot; says bark!&quot;</span>)<span class="op">;</span> <span class="co">// will print &quot;Maggie says bark!&quot;</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="op">}</span></a></code></pre></div>
<ul>
<li>Scope-chaining will look at the closest scope and then work its way outward, so if a variable name is defined in two locations, it will use whichever is in the closest scope:</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="co">// global scope</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">let</span> person <span class="op">=</span> <span class="st">&quot;Rae&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-3" title="3"></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="co">// sayHello function&#39;s local scope</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="kw">function</span> <span class="at">sayHello</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb6-6" title="6">  <span class="kw">let</span> person <span class="op">=</span> <span class="st">&quot;Jeff&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-7" title="7"></a>
<a class="sourceLine" id="cb6-8" title="8">  <span class="co">// greet function&#39;s local scope</span></a>
<a class="sourceLine" id="cb6-9" title="9">  <span class="kw">function</span> <span class="at">greet</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb6-10" title="10">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Hi, &quot;</span> <span class="op">+</span> person <span class="op">+</span> <span class="st">&quot;!&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-11" title="11">  <span class="op">}</span></a>
<a class="sourceLine" id="cb6-12" title="12">  <span class="at">greet</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb6-13" title="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb6-14" title="14"></a>
<a class="sourceLine" id="cb6-15" title="15"><span class="at">sayHello</span>()<span class="op">;</span> <span class="co">// logs &#39;Hi, Jeff!&#39; because the function-scoped `person` is closer than the global-scoped `person`</span></a></code></pre></div>
<ul>
<li>Another term that may come up is lexical-scope. Whenever you run a piece of JavaScript that code is first parsed before it is actually run. This is known as the lexing time. In the lexing time your parser resolves variable names to their values when functions are nested. In the example below, during lexing time, the <code>x</code> from the console log is evaluated to be <code>5</code>. Lexical scope isn’t a term that we’ll use too often, it really is just referring to the fact that the variables that are in scope at runtime and are evaluated before any code needs to be executed (we know <code>x</code> is <code>5</code> in the code without having to actually invoke <code>outer</code>)</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">function</span> <span class="at">outer</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">  <span class="kw">let</span> x <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-3" title="3"></a>
<a class="sourceLine" id="cb7-4" title="4">  <span class="kw">function</span> <span class="at">inner</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb7-5" title="5">    <span class="co">// here we know the value of x because scope chaining will</span></a>
<a class="sourceLine" id="cb7-6" title="6">    <span class="co">// go into the scope above this one looking for variable named x.</span></a>
<a class="sourceLine" id="cb7-7" title="7">    <span class="co">// We do not need to run this code in order to determine the value of x!</span></a>
<a class="sourceLine" id="cb7-8" title="8">    <span class="va">console</span>.<span class="at">log</span>(x)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-9" title="9">  <span class="op">}</span></a>
<a class="sourceLine" id="cb7-10" title="10">  <span class="at">inner</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="op">}</span></a></code></pre></div>
<ul>
<li>Another aspect related to scope is hoisting. <code>var</code> variables will not throw an error if accessed before they are initialized, whereas <code>let</code> and <code>const</code> variables will. (This is generally seen as a positive, since you most likely wouldn’t want your code to be using <code>undefined</code> as an intended value. The error from <code>let</code> and <code>const</code> is much easier to find/debug than potential unintended consequences of utilizing the <code>undefined</code> from <code>var</code>.)</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="co">// Hoisting</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="co">// Declaration of var variables are hoisted, meaning they can be referenced before assignment, with their value being undefined</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="kw">function</span> <span class="at">test</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="va">console</span>.<span class="at">log</span>(hoistedVar)<span class="op">;</span> <span class="co">// =&gt; undefined</span></a>
<a class="sourceLine" id="cb8-5" title="5"></a>
<a class="sourceLine" id="cb8-6" title="6">  <span class="kw">var</span> hoistedVar <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb8-8" title="8"></a>
<a class="sourceLine" id="cb8-9" title="9"><span class="co">// Our compiler knows that our let and const variables exist later on in the code, but it will throw an error so that you know you haven&#39;t declared it yet. This is a different error than we would receive if we never declared the variable.</span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="kw">function</span> <span class="at">test</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb8-11" title="11">  <span class="va">console</span>.<span class="at">log</span>(hoistedLet)<span class="op">;</span> <span class="co">// =&gt; Uncaught ReferenceError: Cannot access &#39;hoistedLet&#39; before initialization</span></a>
<a class="sourceLine" id="cb8-12" title="12">  <span class="va">console</span>.<span class="at">log</span>(hoistedConst)<span class="op">;</span> <span class="co">// =&gt; Uncaught ReferenceError: Cannot access &#39;hoistedConst&#39; before initialization</span></a>
<a class="sourceLine" id="cb8-13" title="13">  <span class="va">console</span>.<span class="at">log</span>(undeclaredVariable)<span class="op">;</span> <span class="co">// =&gt; Uncaught ReferenceError: undeclaredVariable is not defined</span></a>
<a class="sourceLine" id="cb8-14" title="14"></a>
<a class="sourceLine" id="cb8-15" title="15">  <span class="kw">let</span> hoistedLet <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-16" title="16">  <span class="kw">const</span> hoistedConst <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-17" title="17"><span class="op">}</span></a></code></pre></div>
<ol start="4" type="1">
<li>Define an arrow function</li>
</ol>
<ul>
<li>To create an arrow function, we can drop the <code>function</code> keyword and use the <code>=&gt;</code> syntax between our parameters and curly-braces that open up our function.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="co">// Three different ways to write the same function:</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw">let</span> doubler <span class="op">=</span> (num) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-3" title="3">  <span class="cf">return</span> num <span class="op">*</span> <span class="dv">2</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="op">}</span></a>
<a class="sourceLine" id="cb9-5" title="5"></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="kw">let</span> doubler <span class="op">=</span> <span class="kw">function</span>(num)<span class="op">{</span></a>
<a class="sourceLine" id="cb9-7" title="7">  <span class="cf">return</span> num <span class="op">*</span> <span class="dv">2</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb9-9" title="9"></a>
<a class="sourceLine" id="cb9-10" title="10"><span class="kw">function</span> <span class="at">doubler</span>(num)<span class="op">{</span></a>
<a class="sourceLine" id="cb9-11" title="11">  <span class="cf">return</span> num <span class="op">*</span> <span class="dv">2</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-12" title="12"><span class="op">}</span></a></code></pre></div>
<ol start="5" type="1">
<li>Given an arrow function, deduce the value of <code>this</code> without executing the code</li>
</ol>
<ul>
<li>Using an arrow function will maintain the context <code>this</code> of wherever it was defined. This can be very beneficial if we don’t want the context to change. The context that it maintains may be a little tricky at first. It’s important to note that the context is the SAME as the CONTEXT where it was defined, it does not set the context to BE where it was defined. An example to clarify:</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">const</span> testObj <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;The original object!&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb10-3" title="3">  <span class="dt">createFunc</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb10-4" title="4">    <span class="cf">return</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb10-5" title="5">      <span class="cf">return</span> <span class="kw">this</span>.<span class="at">name</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-6" title="6">    <span class="op">};</span></a>
<a class="sourceLine" id="cb10-7" title="7">  <span class="op">},</span></a>
<a class="sourceLine" id="cb10-8" title="8"></a>
<a class="sourceLine" id="cb10-9" title="9">  <span class="dt">createNestedArrowFunc</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb10-10" title="10">    <span class="co">// since the context of this top-level function is the testObj, the context within this arrow function is the testObj</span></a>
<a class="sourceLine" id="cb10-11" title="11">    <span class="cf">return</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-12" title="12">      <span class="cf">return</span> <span class="kw">this</span>.<span class="at">name</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-13" title="13">    <span class="op">};</span></a>
<a class="sourceLine" id="cb10-14" title="14">  <span class="op">},</span></a>
<a class="sourceLine" id="cb10-15" title="15"></a>
<a class="sourceLine" id="cb10-16" title="16">  <span class="co">// since the context of the testObj is global, the context of the arrow function will be global</span></a>
<a class="sourceLine" id="cb10-17" title="17">  <span class="dt">topLevelArrowFunc</span><span class="op">:</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-18" title="18">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">name</span><span class="op">;</span></a>
<a class="sourceLine" id="cb10-19" title="19">  <span class="op">}</span></a>
<a class="sourceLine" id="cb10-20" title="20"><span class="op">};</span></a>
<a class="sourceLine" id="cb10-21" title="21"></a>
<a class="sourceLine" id="cb10-22" title="22"><span class="kw">const</span> noArrow <span class="op">=</span> <span class="va">testObj</span>.<span class="at">createFunc</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb10-23" title="23"><span class="kw">const</span> nestedArrowName <span class="op">=</span> <span class="va">testObj</span>.<span class="at">createNestedArrowFunc</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb10-24" title="24"><span class="kw">const</span> topLevelArrowName <span class="op">=</span> <span class="va">testObj</span>.<span class="at">topLevelArrowFunc</span><span class="op">;</span> <span class="co">// notice for consistency that we are not invoking this function because we want `topLevelArrowName` to be the function that we can invoke. We aren&#39;t creating a new function, just pulling out a reference.</span></a>
<a class="sourceLine" id="cb10-25" title="25"></a>
<a class="sourceLine" id="cb10-26" title="26"></a>
<a class="sourceLine" id="cb10-27" title="27"><span class="at">noArrow</span>()<span class="op">;</span> <span class="co">// undefined, since the context is global and there is no global `name`</span></a>
<a class="sourceLine" id="cb10-28" title="28"><span class="at">nestedArrowName</span>()<span class="op">;</span> <span class="co">// The original object!, since the context is the testObj</span></a>
<a class="sourceLine" id="cb10-29" title="29"><span class="at">topLevelArrowName</span>()<span class="op">;</span> <span class="co">// undefined, since the context is global and there is no global `name`</span></a></code></pre></div>
<ol start="6" type="1">
<li>Implement a closure and explain how the closure affects scope</li>
</ol>
<ul>
<li>Because of scope-chaining, a closure has access to any variables that are available within its own scope as well as any outer scope.</li>
<li>An important (and very useful!) aspect of a closure is that it will keep a reference to all the variables when it was defined, even if the outer function has returned. What this means is that the reference to that variable is not thrown away when the outer function completes execution.</li>
<li>Look at the counter example below. Whenever we invoke <code>createCounter</code> we create a new instance of the <code>count</code> variable, starting at <code>0</code>. The function that is returned from <code>createCounter</code> keeps a reference to this <code>count</code> that was made, which is a separate instance of any other time that <code>createCounter</code> is invoked. Invoking that returned function (which we stored as <code>counter</code>) will increment that <code>count</code> that we kept a reference to. Creating a second counter creates a new instance of <code>count</code> that can be incremented separately from our original. They live as separate variables that can be incremented independently.</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">function</span> <span class="at">createCounter</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb11-2" title="2">  <span class="kw">let</span> count <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-3" title="3"></a>
<a class="sourceLine" id="cb11-4" title="4">  <span class="cf">return</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb11-5" title="5">    count<span class="op">++;</span></a>
<a class="sourceLine" id="cb11-6" title="6">    <span class="cf">return</span> count<span class="op">;</span></a>
<a class="sourceLine" id="cb11-7" title="7">  <span class="op">};</span></a>
<a class="sourceLine" id="cb11-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb11-9" title="9"></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="kw">let</span> counter <span class="op">=</span> <span class="at">createCounter</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="va">console</span>.<span class="at">log</span>(<span class="at">counter</span>())<span class="op">;</span> <span class="co">// =&gt; 1</span></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="va">console</span>.<span class="at">log</span>(<span class="at">counter</span>())<span class="op">;</span> <span class="co">// =&gt; 2</span></a>
<a class="sourceLine" id="cb11-13" title="13"></a>
<a class="sourceLine" id="cb11-14" title="14"><span class="co">//we cannot reach the count variable!</span></a>
<a class="sourceLine" id="cb11-15" title="15"><span class="va">counter</span>.<span class="at">count</span><span class="op">;</span> <span class="co">// undefined</span></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="kw">let</span> counter2 <span class="op">=</span> <span class="at">createCounter</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="va">console</span>.<span class="at">log</span>(<span class="at">counter2</span>())<span class="op">;</span> <span class="co">// =&gt; 1</span></a></code></pre></div>
<ol start="7" type="1">
<li>Define a method that references <code>this</code> on an object literal</li>
</ol>
<ul>
<li>The keyword <code>this</code> can be used to reference the object that a method is being called on.</li>
<li>In the example below, we make a dog object with attributes for a name string and an isSitting boolean, as well as a stand function. Within the stand function, we are able to affect the isSitting variable by referencing the same object with <code>this</code>, then keying in to its isSitting attribute.</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">let</span> dog <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Bowser&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb12-3" title="3"></a>
<a class="sourceLine" id="cb12-4" title="4">  <span class="dt">isSitting</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb12-5" title="5"></a>
<a class="sourceLine" id="cb12-6" title="6">  <span class="dt">stand</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb12-7" title="7">    <span class="kw">this</span>.<span class="at">isSitting</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb12-8" title="8">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">isSitting</span><span class="op">;</span></a>
<a class="sourceLine" id="cb12-9" title="9">  <span class="op">},</span></a>
<a class="sourceLine" id="cb12-10" title="10"><span class="op">};</span></a>
<a class="sourceLine" id="cb12-11" title="11"></a>
<a class="sourceLine" id="cb12-12" title="12"><span class="co">// Bowser starts out sitting</span></a>
<a class="sourceLine" id="cb12-13" title="13"><span class="va">console</span>.<span class="at">log</span>(<span class="va">dog</span>.<span class="at">isSitting</span>)<span class="op">;</span> <span class="co">// prints `true`</span></a>
<a class="sourceLine" id="cb12-14" title="14"></a>
<a class="sourceLine" id="cb12-15" title="15"><span class="co">// Let&#39;s make him stand</span></a>
<a class="sourceLine" id="cb12-16" title="16"><span class="va">console</span>.<span class="at">log</span>(<span class="va">dog</span>.<span class="at">stand</span>())<span class="op">;</span> <span class="co">// prints `false`</span></a>
<a class="sourceLine" id="cb12-17" title="17"></a>
<a class="sourceLine" id="cb12-18" title="18"><span class="co">// He&#39;s actually standing now!</span></a>
<a class="sourceLine" id="cb12-19" title="19"><span class="va">console</span>.<span class="at">log</span>(<span class="va">dog</span>.<span class="at">isSitting</span>)<span class="op">;</span> <span class="co">// prints `false`</span></a></code></pre></div>
<ol start="8" type="1">
<li>Utilize the built in <code>Function#bind</code> on a callback to maintain the context of <code>this</code></li>
</ol>
<ul>
<li>In the example below, the dog object does not have a <code>sayName</code> function associated with it, it is only created within the cat object.</li>
<li>We are able to change the context of the function and make the dog object say its name by binding the function to the dog object.</li>
<li>Using <code>.bind(context, arg1, arg2, ...)</code> on a function will change what <code>this</code> refers to inside of the function to be whatever we pass in as the context. We can also pass in arguments at bind time as well, which will be passed to the function being bound, but these are optional.</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">let</span> cat <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb13-2" title="2">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Meowser&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb13-3" title="3">  <span class="dt">sayName</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb13-4" title="4">    <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>.<span class="at">name</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb13-5" title="5">  <span class="op">},</span></a>
<a class="sourceLine" id="cb13-6" title="6"><span class="op">};</span></a>
<a class="sourceLine" id="cb13-7" title="7"></a>
<a class="sourceLine" id="cb13-8" title="8"><span class="kw">let</span> dog <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb13-9" title="9">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Fido&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb13-10" title="10"><span class="op">};</span></a>
<a class="sourceLine" id="cb13-11" title="11"></a>
<a class="sourceLine" id="cb13-12" title="12"><span class="kw">let</span> sayNameFunc <span class="op">=</span> <span class="va">cat</span>.<span class="at">sayName</span><span class="op">;</span></a>
<a class="sourceLine" id="cb13-13" title="13"></a>
<a class="sourceLine" id="cb13-14" title="14"><span class="kw">let</span> sayHelloCat <span class="op">=</span> <span class="va">sayNameFunc</span>.<span class="at">bind</span>(cat)<span class="op">;</span></a>
<a class="sourceLine" id="cb13-15" title="15"><span class="at">sayHelloCat</span>()<span class="op">;</span> <span class="co">// prints Meowser</span></a>
<a class="sourceLine" id="cb13-16" title="16"></a>
<a class="sourceLine" id="cb13-17" title="17"><span class="kw">let</span> sayHelloDog <span class="op">=</span> <span class="va">sayNameFunc</span>.<span class="at">bind</span>(dog)<span class="op">;</span></a>
<a class="sourceLine" id="cb13-18" title="18"><span class="at">sayHelloDog</span>()<span class="op">;</span> <span class="co">// prints Fido</span></a></code></pre></div>
<ul>
<li>An example of providing arguments:</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">const</span> sum <span class="op">=</span> <span class="kw">function</span> (a<span class="op">,</span> b) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-2" title="2">  <span class="cf">return</span> a <span class="op">+</span> b<span class="op">;</span></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="op">};</span></a>
<a class="sourceLine" id="cb14-4" title="4"></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="co">// here we are creating a new function named add3</span></a>
<a class="sourceLine" id="cb14-6" title="6"><span class="co">// this function will bind the value 3 for the first argument.</span></a>
<a class="sourceLine" id="cb14-7" title="7"><span class="co">// We aren&#39;t using this inside the function, so we don&#39;t really care what the context is.</span></a>
<a class="sourceLine" id="cb14-8" title="8"><span class="co">// We pass in null as the first argument (the context) so that we can give 3 as the first argument to sum by default.</span></a>
<a class="sourceLine" id="cb14-9" title="9"><span class="kw">const</span> add3 <span class="op">=</span> <span class="va">sum</span>.<span class="at">bind</span>(<span class="kw">null</span><span class="op">,</span> <span class="dv">3</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-10" title="10"></a>
<a class="sourceLine" id="cb14-11" title="11"><span class="co">// now when we invoke our new add3 function it will add 3 to</span></a>
<a class="sourceLine" id="cb14-12" title="12"><span class="co">// one incoming argument</span></a>
<a class="sourceLine" id="cb14-13" title="13"><span class="va">console</span>.<span class="at">log</span>(<span class="at">add3</span>(<span class="dv">10</span>))<span class="op">;</span></a></code></pre></div>
<ol start="9" type="1">
<li>Given a code snippet, identify what <code>this</code> refers to <img src="./Context-Flowchart.jpg" alt="Context-Flowchart" /></li>
</ol>
<ul>
<li>When a function is invoked method style (invoked directly on an object like <code>cat.sayName()</code>), <code>this</code> refers to the object that the function was called on:</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">const</span> cat <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb15-2" title="2">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Meowser&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb15-3" title="3">  <span class="dt">sayName</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb15-4" title="4">    <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>.<span class="at">name</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb15-5" title="5">  <span class="op">},</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="op">};</span></a></code></pre></div>
<ul>
<li>If the function is invoked function style (not on an object, but invoked directly like <code>sayName()</code>), <code>this</code> refers to the scope where the function was defined:</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">const</span> cat <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb16-2" title="2">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Meowser&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb16-3" title="3">  <span class="dt">sayName</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb16-4" title="4">    <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>.<span class="at">name</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-5" title="5">  <span class="op">},</span></a>
<a class="sourceLine" id="cb16-6" title="6"><span class="op">};</span></a>
<a class="sourceLine" id="cb16-7" title="7"></a>
<a class="sourceLine" id="cb16-8" title="8"><span class="co">// We are defining the sayNameFunc in the global scope</span></a>
<a class="sourceLine" id="cb16-9" title="9"><span class="kw">const</span> sayNameFunc <span class="op">=</span> <span class="va">cat</span>.<span class="at">sayName</span><span class="op">;</span></a>
<a class="sourceLine" id="cb16-10" title="10"></a>
<a class="sourceLine" id="cb16-11" title="11"><span class="co">// `this` will refer to the global object, since that is the scope that sayNameFunc was defined in.</span></a>
<a class="sourceLine" id="cb16-12" title="12"><span class="at">sayNameFunc</span>()<span class="op">;</span></a></code></pre></div>
<ul>
<li>Using an arrow function will maintain the context <code>this</code> of wherever it was defined. This can be very beneficial if we don’t want the context to change. The context that it maintains may be a little tricky at first. It’s important to note that the context is the SAME as the CONTEXT where it was defined, it does not set the context to BE where it was defined. An example to clarify:</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">const</span> testObj <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-2" title="2">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;The original object!&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb17-3" title="3">  <span class="dt">createFunc</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb17-4" title="4">    <span class="cf">return</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb17-5" title="5">      <span class="cf">return</span> <span class="kw">this</span>.<span class="at">name</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-6" title="6">    <span class="op">};</span></a>
<a class="sourceLine" id="cb17-7" title="7">  <span class="op">},</span></a>
<a class="sourceLine" id="cb17-8" title="8"></a>
<a class="sourceLine" id="cb17-9" title="9">  <span class="dt">createNestedArrowFunc</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb17-10" title="10">    <span class="co">// since the context of this top-level function is the testObj, the context within this arrow function is the testObj</span></a>
<a class="sourceLine" id="cb17-11" title="11">    <span class="cf">return</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-12" title="12">      <span class="cf">return</span> <span class="kw">this</span>.<span class="at">name</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-13" title="13">    <span class="op">};</span></a>
<a class="sourceLine" id="cb17-14" title="14">  <span class="op">},</span></a>
<a class="sourceLine" id="cb17-15" title="15"></a>
<a class="sourceLine" id="cb17-16" title="16">  <span class="co">// since the context of the testObj is global, the context of the arrow function will be global</span></a>
<a class="sourceLine" id="cb17-17" title="17">  <span class="dt">topLevelArrowFunc</span><span class="op">:</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-18" title="18">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">name</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-19" title="19">  <span class="op">}</span></a>
<a class="sourceLine" id="cb17-20" title="20"><span class="op">};</span></a>
<a class="sourceLine" id="cb17-21" title="21"></a>
<a class="sourceLine" id="cb17-22" title="22"><span class="kw">const</span> noArrow <span class="op">=</span> <span class="va">testObj</span>.<span class="at">createFunc</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-23" title="23"><span class="kw">const</span> nestedArrowName <span class="op">=</span> <span class="va">testObj</span>.<span class="at">createNestedArrowFunc</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-24" title="24"><span class="kw">const</span> topLevelArrowName <span class="op">=</span> <span class="va">testObj</span>.<span class="at">topLevelArrowFunc</span><span class="op">;</span> <span class="co">// notice for consistency that we are not invoking this function because we want `topLevelArrowName` to be the function that we can invoke. We aren&#39;t creating a new function, just pulling out a reference.</span></a>
<a class="sourceLine" id="cb17-25" title="25"></a>
<a class="sourceLine" id="cb17-26" title="26"></a>
<a class="sourceLine" id="cb17-27" title="27"><span class="at">noArrow</span>()<span class="op">;</span> <span class="co">// undefined, since the context is global and there is no global `name`</span></a>
<a class="sourceLine" id="cb17-28" title="28"><span class="at">nestedArrowName</span>()<span class="op">;</span> <span class="co">// The original object!, since the context is the testObj</span></a>
<a class="sourceLine" id="cb17-29" title="29"><span class="at">topLevelArrowName</span>()<span class="op">;</span> <span class="co">// undefined, since the context is global and there is no global `name`</span></a></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">const</span> dog <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-2" title="2">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Maggie&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb18-3" title="3"></a>
<a class="sourceLine" id="cb18-4" title="4">  <span class="co">// With an arrow, look where the function itself was defined</span></a>
<a class="sourceLine" id="cb18-5" title="5">  <span class="co">// Since the context of this top-level anonymous function is the dog, the context within this arrow function is the dog itself</span></a>
<a class="sourceLine" id="cb18-6" title="6">  <span class="dt">createSayNameFunc</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb18-7" title="7">    <span class="cf">return</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-8" title="8">      <span class="cf">return</span> <span class="kw">this</span>.<span class="at">name</span><span class="op">;</span></a>
<a class="sourceLine" id="cb18-9" title="9">    <span class="op">};</span></a>
<a class="sourceLine" id="cb18-10" title="10">  <span class="op">},</span></a>
<a class="sourceLine" id="cb18-11" title="11"></a>
<a class="sourceLine" id="cb18-12" title="12">  <span class="co">// Since the context of the dog (where the arrow function is defined) is global, the context of the arrow function will be global</span></a>
<a class="sourceLine" id="cb18-13" title="13">  <span class="dt">topLevelArrowFunc</span><span class="op">:</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-14" title="14">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">name</span><span class="op">;</span></a>
<a class="sourceLine" id="cb18-15" title="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb18-16" title="16"><span class="op">};</span></a></code></pre></div>
</body>
</html>
